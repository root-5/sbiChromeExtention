{
    "manifest_version": 3,
    "name": "SBI証券ポートフォリオ拡張機能",
    "version": "1.0.0",
    "description": "SBI証券のポートフォリオ、取引履歴を独自UIで表示する拡張機能",
    "permissions": [
        "activeTab",
        "scripting"
    ],
    "host_permissions": [
        "http://*/*",
        "https://*/*"
    ],
    "background": {
        "service_worker": "background/serviceWorker.js",
        "type": "module"
    },
    "content_scripts": [ // ウェブページに自動的に注入されるスクリプトやスタイルシートを定義
        {
            "matches": [
                "https://site3.sbisec.co.jp/ETGate/?_ControlID=WPLETpfR001Control&_PageID=DefaultPID&_ActionID=DefaultAID&_DataStoreID=DSWPLETpfR001Control&OutSide=on&getFlg=on&_scpr=intpr=hn_trade",
                "https://site3.sbisec.co.jp/ETGate/?_ControlID=WPLETpfR001Control&_PageID=DefaultPID&_ActionID=DefaultAID&_DataStoreID=DSWPLETpfR001Control&OutSide=on&getFlg=on&_scpr=intpr=hn_trade*"
            ],
            "js": [
                "libs/chart.min.js", // 先に読み込む必要がある
                "libs/tailwindcss.js", // 先に読み込む必要がある
                "init.js" // ローダー経由でコンテントスクリプトを読み込むことで import/export 文を使用可能にする
            ],
            "css": [
                "content/contentStyles.css"
            ]
        }
    ],
    "action": {
        "default_title": "SBI証券ポートフォリオ",
        "default_icon": {
            "128": "icons/icon.png"
        }
    },
    "icons": {
        "128": "icons/icon.png"
    },
    "web_accessible_resources": [ // ウェブページからアクセス可能なリソースを定義
        {
            "resources": [
                "env.json",
                "content/contentScript.js",
                "content/components/*.js",
                "content/utils/*.js",
                "content/modules/*.js",
                "libs/*.js"
            ],
            "matches": [
                "https://site3.sbisec.co.jp/*"
            ]
        }
    ]
}