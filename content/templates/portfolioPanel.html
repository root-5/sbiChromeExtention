<!-- ポートフォリオパネルのテンプレート -->
<div id="jpyAccountPanel">
    <!-- 時刻表示エリア -->
    <div class="flex">
        <h1>日本円建て口座ポートフォリオ</h1>
        <div id="jpyAccountClock">
            <span class="clockLabel">現在時刻:</span>
            <span class="clockValue" data-bind="currentTime">--:--:--</span>
            <span class="clockSeparator">|</span>
            <span class="clockLabel">最終更新:</span>
            <span class="clockValue" data-bind="lastUpdateTime">--:--:--</span>
        </div>
    </div>
    <div class="flex">
        <!-- 円グラフコンテナ -->
        <div id="jpyAccountPieChartContainer">
            <canvas id="jpyAccountPieChartCanvas"></canvas>
        </div>
        <div>
            <!-- ポートフォリオサマリーコンテナ -->
            <div id="jpyAccountSummaryContainer">
                <h2>サマリー</h2>
                <table>
                    <thead>
                        <tr>
                            <th>純資産</th>
                            <th>総資産</th>
                            <th>レバレッジ</th>
                            <th>買付余力</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="amount" data-bind="netTotalMarketCap">-</td>
                            <td class="amount" data-bind="totalMarketCap">-</td>
                            <td class="amount" data-bind="leverage">-</td>
                            <td class="amount" data-bind="buyingPower">-</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- ポートフォリオテーブルコンテナ -->
            <div id="jpyAccountTableContainer">
                <h2>ポートフォリオ</h2>
                <table>
                    <!-- テーブルヘッダー -->
                    <thead>
                        <tr>
                            <th>コード</th>
                            <th>銘柄名</th>
                            <th>株数</th>
                            <th>取得価格</th>
                            <th>現在価格</th>
                            <th>前日比</th>
                            <th>損益</th>
                            <th>時価総額</th>
                        </tr>
                    </thead>
                    <!-- テーブルボディ（データバインディング用） -->
                    <tbody>
                        <tr data-bind="jpyAccountTableRow" class="totalRow">
                            <td data-bind="code" class="code"></td>
                            <td data-bind="name" class="name"></td>
                            <td data-bind="quantity" class="quantity"></td>
                            <td data-bind="buyPrice" class="buyPrice"></td>
                            <td data-bind="currentPrice" class="currentPrice"></td>
                            <td data-bind="dayChange" class="dayChange">
                                <span data-bind="dayChangeRate" class="dayChangeRate"></span><span
                                    data-bind="dayChangeRate" class="percent">%</span>
                            </td>
                            <td data-bind="profitAndLoss" class="profitAndLoss">
                                <span data-bind="profitAndLossDiff" class="profitAndLossDiff"></span>
                            </td>
                            <td data-bind="marketCap" class="marketCap"></td>
                        </tr>
                    </tbody>
                    <!-- テーブルフッター -->
                    <tfoot>
                        <tr class="totalRow">
                            <td colspan="6">合計</td>
                            <td class="profit" data-bind="totalProfit">-</td>
                            <td class="amount" data-bind="totalMarketCap">-</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
    <div class="flex">
        <!-- 取引履歴テーブルコンテナ（当日約定含む） -->
        <div id="jpyAccountTradingLogContainer">
            <h2>取引履歴</h2>
            <div class="table-wrapper">
                <table>
                    <!-- テーブルヘッダー -->
                    <thead>
                        <tr>
                            <th>日付</th>
                            <th>コード</th>
                            <th>銘柄名</th>
                            <th>取引</th>
                            <th>株数</th>
                            <th>価格</th>
                        </tr>
                    </thead>
                    <!-- テーブルボディ（データバインディング用） -->
                    <tbody>
                        <tr data-bind="jpyAccountTradingLogRow">
                            <td data-bind="date" class="date"></td>
                            <td data-bind="code" class="code"></td>
                            <td data-bind="name" class="name"></td>
                            <td data-bind="tradeType" class="tradeType"></td>
                            <td data-bind="quantity" class="quantity"></td>
                            <td data-bind="price" class="price"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- 株価変化率と売買数テーブルコンテナ -->
        <div id="priceChangeTableContainer">
            <h2>株価変化率と売買数</h2>
            <div class="table-wrapper">
                <table id="priceChangeTable">
                    <!-- テーブルヘッダー（動的に日付列が追加される） -->
                    <thead>
                        <tr data-bind="priceChangeHeaderRow">
                            <th rowspan="2" class="code-header">コード</th>
                            <th rowspan="2" class="name-header">銘柄名</th>
                            <!-- 日付列ヘッダーがここに追加される -->
                        </tr>
                        <tr data-bind="priceChangeSubHeaderRow">
                            <!-- 変化率/売買数ヘッダーがここに追加される -->
                        </tr>
                    </thead>
                    <!-- テーブルボディ（テンプレート行） -->
                    <tbody>
                        <tr data-bind="priceChangeTableRow">
                            <td data-bind="code" class="code"></td>
                            <td data-bind="name" class="name"></td>
                            <!-- 日付ごとの変化率/売買数セルがここに追加される -->
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>